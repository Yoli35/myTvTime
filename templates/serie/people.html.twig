{% extends 'base.html.twig' %}
{% block body %}
    {{ include('blocks/pageHeader.html.twig') }}
    <div class="container">
        <header>{{ include('blocks/nav.html.twig', {thisPage:('My Series'|trans)}) }}</header>
        <main>
            <div class="person">
                <div class="left-column">
                    <div class="profile">
                        <img src="{{ imageConfig.url ~ imageConfig.profile_sizes.2 ~ people.profile_path }}" alt="{{ people.name }}">
                    </div>
                    <div class="infos">
                        <h4>{{ 'Personal Informations'|trans }}</h4>
                        <div class="info">
                            <div>{{ 'Known for Department'|trans }}</div>
                            <div>{{ people.known_for_department|trans }}</div>
                        </div>
                        <div class="info">
                            <div>{{ 'Known appearances'|trans }}</div>
                            <div>{{ credits.cast|length + credits.crew|length }}</div>
                        </div>
                        <div class="info">
                            <div>{{ 'Gender'|trans }}</div>
                            <div>{{ (people.gender == 1 ? 'Female' : (people.gender == 2 ? 'Male':'Other'))|trans }}</div>
                        </div>
                        {% if people.birthday %}
                            <div class="info">
                                <div>{{ 'Birthday'|trans }}</div>
                                <div>{{ people.birthday|format_date('medium') }} ({{ people.age }} {{ 'old'|trans }})</div>
                            </div>
                        {% endif %}
                        {% if people.deathday %}
                            <div class="info">
                                <div>{{ 'Deathday'|trans }}</div>
                                <div>{{ people.deathday|format_date('medium') }}</div>
                            </div>
                        {% endif %}
                        {% if people.place_of_birth %}
                            <div class="info">
                                <div>{{ 'Place of Birth'|trans }}</div>
                                <div>{{ people.place_of_birth }}</div>
                            </div>
                        {% endif %}
                        {% if people.homepage %}
                            <div class="info">
                                <div>{{ 'Homepage'|trans }}</div>
                                <div>{{ people.homepage }}</div>
                            </div>
                        {% endif %}
                        {% if people.also_known_as|length %}
                            <div class="info">
                                <div>{{ 'Also known as'|trans }}</div>
                                {% for name in people.also_known_as %}
                                    <div>{{ name }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    {% if people.images|length %}
                        {% if people.images.profiles|length %}
                            <div class="images">
                                {% for image in people.images.profiles %}
                                    <img src="{{ imageConfig.url ~ imageConfig.profile_sizes.2 ~ image.file_path }}" alt="{{ people.name }}">
                                {% endfor %}
                            </div>
                        {% endif %}
                    {% endif %}
                    {#
                    "biography" => ""
                    "imdb_id" => "nm4055138"
                    #}
                </div>
                <div class="right-column">
                    <div class="content">
                        <h1>{{ people.name }}</h1>
                        {% if people.biography|length %}
                            <div class="bio">
                                {{ people.biography|nl2br }}
                            </div>
                        {% endif %}
                        {% if credits.known_for|length %}
                            <h2>{{ 'Known for'|trans }}</h2>
                            <div class="known-for">
                                <div class="wrapper">
                                    {% for media in credits.known_for %}
                                        {% if media.media_type == "movie" %}
                                            {% set url = path('app_movie', {id: media.id}) %}
                                        {% endif %}
                                        {% if media.media_type == "tv" %}
                                            {% set url = path('app_serie_tmdb', {id: media.id}) %}
                                        {% endif %}
                                        {% if url is defined %}
                                            <a href="{{ url }}">
                                        {% endif %}
                                        <div class="media">
                                            <img src="{{ imageConfig.url ~ imageConfig.profile_sizes.2 ~ media.poster_path }}" alt="{{ media.title }}">
                                            <div class="title">{{ media.title }}</div>
                                        </div>
                                        {% if url is defined %}
                                            </a>
                                        {% endif %}

                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                        {% if credits.cast|length %}
                            <h2>{{ 'Acting'|trans }}</h2>
                            <div class="acting">
                                {% for date, prod in credits.cast %}
                                    <div class="date">
                                        <div class="year">{{ date|length == 10 ? (date|slice(0,4)) : "â€”" }}</div>
                                        <div class="info" data-id="{{ prod.id }}"><i class="fa-solid fa-circle-info"></i></div>
                                        {% if prod.media_type == "movie" %}
                                            {% set url = path('app_movie', {id: prod.id}) %}
                                        {% endif %}
                                        {% if prod.media_type == "tv" %}
                                            {% set url = path('app_serie_tmdb', {id: prod.id}) %}
                                        {% endif %}
                                        {% if url is defined %}
                                        <a href="{{ url }}">
                                            {% endif %}
                                        <div class="title">
                                            {{ prod.title }}
                                            {% if prod.media_type == 'movie' %}
                                                <i class="fa-solid fa-film" title="{{ "Movie"|trans }}"></i>
                                            {% endif %}
                                            {% if prod.media_type == 'tv' %}
                                                <i class="fa-solid fa-tv" title="{{ 'Serie'|trans }}"></i>
                                            {% endif %}
                                        </div>
                                            {% if url is defined %}
                                        </a>
                                        {% endif %}
                                        {% if prod.character|length %}
                                            <div class="character">{{ 'as'|trans }} {{ prod.character }}</div>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </main>
        <footer>{{ include('blocks/pageFooter.html.twig') }}</footer>
    </div>
{% endblock %}
{% block morejs %}
{% endblock %}
